{% extends 'main_app/base.html' %}


{% block content %}
<div class="list-container">
  <div class="list-header">
    <h2>My Projects</h2>
    <a href="{% url 'main_app:project_create' %}" class="btn-primary">Add New Project</a>
  </div>
  
  {% if projects %}
    <div class="projects-grid">
      {% for project in projects %}
        <div class="project-card">
          <h3>{{ project.title }}</h3>
            <p>{{ project.description | truncatewords:20 }}</p>
            
            
            <div class="progress-section">
              <div class="progress-bar">
                <div class="progress-fill" style="width: {{ project.progress }}%"></div>
                </div>
                <p><strong>Progress:</strong> {{ project.progress }}%</p>
              </div>
              <div class="project-actions">
              <a href="{% url 'main_app:project_detail' project.id %}" class="btn-primary">View Details</a>
              <a href="{% url 'main_app:project_edit' project.id %}" class="btn-edit">Edit</a>
              <a href="{% url 'main_app:project_delete' project.id %}" class="btn-delete">Delete</a>
            </div>
        </div>
      {% endfor %}
      </div>
  {% else %}
    <div class="empty-state">
      <p>No projects added yet.</p>
      <a href="{% url 'main_app:project_create' %}" class="btn-primary"> Add your first project!</a>
    </div>
  {% endif %}

</div>
<a href="{% url 'main_app:home' %}" class="btn-secondary">Back to Dashboard</a>
{% endblock %}